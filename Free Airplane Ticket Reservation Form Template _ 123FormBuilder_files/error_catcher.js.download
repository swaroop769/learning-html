!function(){"use strict";(function(){var e,n=10,o=!0,t=(window.CFTracking||{}).context||{},r=!0,c=0,s=0,l=[];function i(){r=!1}function a(){var t;0!==l.length?(t=l.length>=n?l.slice(0,n):l.slice(0),l.length=0,o&&console.log("DEBUG-ERROR-CATCHER: sending "+t.length+" errors ",t),function(e,n,t,r){o&&console.log("DEBUG-ERROR-CATCHER: ajax call to "+e);try{(r=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0")).open(t?"POST":"GET",e,1),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){r.readyState>3&&(o&&console.log("DEBUG-ERROR-CATCHER: ajax call received response "+r.responseText),n&&n(r.responseText,r))},r.send(t)}catch(e){window.console&&console.log(e)}}(encodeURI(e),function(e,n){"STOP"===e&&i()},encodeURI(function(e){for(var n=[],o=0;o<e.length;o++)n.push(u(e[o]));return"&errors="+encodeURIComponent("["+n.join(",")+"]")}(t))),s+=t.length):o&&console.log("DEBUG-ERROR-CATCHER: send was called but stack is empty. Will do nothing!")}function R(e,R,u,E,d){if(r&&null!==d)try{o&&console.log("DEBUG-ERROR-CATCHER: onError handler "+e),function(e){s>=n&&(o&&console.log("DEBUG-ERROR-CATCHER: too many errors. Going to stop sending data."),i());for(var r in o&&console.log("DEBUG-ERROR-CATCHER: queue error ",e),c++,t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.url=window.location.href,l.push(e),setTimeout(function(){a()},100)}({msg:e=e.replace(/\"/g,'\\"'),file:R,ln:u,cl:E,cnt:c+1})}catch(n){o&&console.log("DEBUG-ERROR-CATCHER: just prevented a storm of JS errors "+e)}}function u(e){var n=[];for(var o in e)e.hasOwnProperty(o)&&n.push('"'+o+'":"'+e[o]+'"');return"{"+n.join(",")+"}"}return{init:function(n){e=n,window.addEventListener("error",function(e){R(e.message,e.filename,e.lineno,e.colno,e.error)})}}})().init(`${document.baseURI}ajax_error_capture.php`)}();