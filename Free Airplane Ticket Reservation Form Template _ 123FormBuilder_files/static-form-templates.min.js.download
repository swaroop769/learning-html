"use strict";!function(o){var e=location.pathname;function l(){o(".templates-popup-wrapper").fadeOut(),o("body").removeClass("noscroll"),window.history.replaceState({},"",e)}function t(e){var t="",a="",r=o(document).find('a.previewTemplate--trigger[data-id="'.concat(e,'"]')).first();r&&(o(r).parent("article").prev()&&(t=o(r).parent("article").prev().find("a.previewTemplate--trigger").attr("data-id")),o(r).parent("article").next())&&(a=o(r).parent("article").next().find("a.previewTemplate--trigger").attr("data-id")),o.ajax({type:"POST",url:staticFormAjaxVar.url,data:{action:"wprig_templates_popup",templateId:e,prevTemplateId:t,nextTemplateId:a,nonce:staticFormAjaxVar.nonce},beforeSend:function(){o(".templates-modal .loader-wrapper").fadeIn()},complete:function(){o(".templates-modal .loader-wrapper").fadeOut()},success:function(e){try{e=JSON.parse(e),o(".templates-modal-body").html(e.content),o(".templates-modal-body").fadeIn(),window.history.replaceState({},"",e.url),o(document).trigger("modalLoaded"),o(".templates-modal-body").scrollTop(0)}catch(e){l()}},error:function(){try{dataLayer.push({event:"form-static-templates-modal-load-error"})}catch(e){}l()}})}jQuery(document).on("click","a.previewTemplate--trigger",function(e){e.preventDefault(),e.stopPropagation(),t(o(this).attr("data-id")),o(".templates-modal-body").hide(),o(".templates-popup-wrapper").fadeIn(),o("body").addClass("noscroll")}),o(document).click(function(e){!o(document).find("body").hasClass("has-static-templates")||!o(".templates-popup-wrapper").is(":visible")||o(e.target).hasClass("previewTemplate--trigger")||o(e.target).closest(".templates-modal").length&&!o(e.target).hasClass("modal-body-close")||l()}),o(document).on("modalLoaded",function(){o(document).find("body").hasClass("has-static-templates")&&(o(".see-more").hide(),o(".templates-modal-arrow > a").each(function(){o(this).on("click",function(e){e.preventDefault(),t(o(this).attr("data-id"))})}))})}(jQuery);