"use strict";!function(r){jQuery(document).on("click",".a-tab a",function(e){e.preventDefault();var e=jQuery(this).parent().attr("id").substr(1),t=e.replace("tab","");jQuery(".a-tab ").removeClass("active"),jQuery(this).parent().addClass("active"),jQuery(".tab-content").addClass("hide"),jQuery("#"+e).removeClass("hide"),t=r("#tab"+(e=t)).find("li"),e=r("#show-more-categories"+e),r(".show-more-categories").hide(),2<t.length&&e.show(),r(".tab-content").addClass("less")}),jQuery(document).on("click","#load-more-posts-btn",function(e){e.preventDefault();var t=parseInt(jQuery(this).data("page")),e=jQuery(this).data("is-ajax"),a=parseInt(jQuery(this).data("posts-per-page")),s=jQuery(this).data("params"),r=(t++,parseInt(jQuery(this).data("total"))),o=jQuery(this).data("loading"),n=jQuery(this).text(),l=jQuery(this).data("url"),i=jQuery(this),p={};if(p.data=JSON.stringify(s),p.action="load_more_templates",p.page=t,0===e){i.text(o),i.data("page",t);for(var d=(t-1)*a;d<(t-1)*a+a;d++)i.parent().prev("#templates ").find("li.page").eq(d).show();var s=i.parent().prev("#templates ").find("li.page:nth-child( "+((t-1)*a+1)+")"),c=0;i.parent().prev("#templates").find("li.page").each(function(){jQuery(this).is(":hidden")&&c++}),0===(r=Math.floor(c/a))&&(i.parent().prev("#templates").css("margin-bottom","0px"),i.parent().remove()),(i.parent().prev("#templates ").hasClass("popup")?jQuery(".templates-popup-wrapper .litebox-wrapper"):jQuery("html, body")).animate({scrollTop:s.offset().top},500),i.text(n)}else jQuery.ajax({url:l,data:p,type:"POST",beforeSend:function(){i.text(o)},success:function(e){t<=r&&i.parent().remove(),e&&(jQuery("#templates").append(e),e=jQuery("ul#templates li.page:nth-child( "+((t-1)*a+1)+")"),jQuery("html, body").animate({scrollTop:e.offset().top},500))}})});var e,t=r("#search_template"),a=r(".tabs");function o(){var e=r(".accordion");e.length&&e.each(function(){var e;r(this).hasClass("rendered")||(r(this).addClass("rendered"),(e=r(this).find("h3")).each(function(){r(this).nextUntil("h3").hide()}),e.on("click",function(){r(this).toggleClass("active"),r(this).hasClass("active")?r(this).nextUntil("h3").show():r(this).nextUntil("h3").hide()}))})}t.length&&(e=t.offset().top,r(window).on("scroll",function(){r(window).scrollTop()>=e-68?(t.hasClass("sticky")||t.addClass("sticky"),a.hasClass("sticky")||a.addClass("sticky")):(t.hasClass("sticky")&&t.removeClass("sticky"),a.hasClass("sticky")&&a.removeClass("sticky"))})),r(document).on("click","#template-categories > a",function(){r("#template-categories").toggleClass("show"),r("body").toggleClass("noscroll")}),o();var s=r(".show-more-categories");s.length&&s.on("click",function(){var e=r(this).attr("id").replace("show-more-categories",""),e=r("#tab"+e);r(this).toggleClass("active"),r(this).hasClass("active")?e.hasClass("more")||e.addClass("more"):e.hasClass("more")&&e.removeClass("more")}),jQuery(".tab-content > ul > li.has_children > a").each(function(){jQuery(this).after('<span class="expand"></span> ')}),jQuery(document).on("click",".tab-content li.has_children .expand",function(e){e.preventDefault();var e=jQuery(this).closest("li"),t=e.find("> ul");t.is(":visible")?(t.slideUp(),e.removeClass("up").addClass("down")):(t.slideDown(),e.addClass("up").removeClass("down")),r(window).on("load resize",function(){r(".a-tab.active").attr("id").replace("atab","")})}),(s=r(".current-cat").parent().parent()).hasClass("current-cat-parent")&&s.addClass("up"),0<r("#write-to-us").length&&r("#write-to-us").attr("href","mailto: customercare@123formbuilder.com");var n=location.pathname;function l(){r(".templates-popup-wrapper").fadeOut(),r("body").removeClass("noscroll"),window.history.replaceState({},"",n)}function i(t){var a="",s="";r("#page .block-templates li.page").each(function(){var e=r(this).find("a.btn.btn-preview-template").attr("data-id");void 0!==e&&!1!==e&&e===t&&(r(this).prev().length&&(a=r(this).prev().find("a.btn.btn-preview-template").attr("data-id")),jQuery(this).next().length)&&(s=jQuery(this).next().find("a.btn.btn-preview-template").attr("data-id"))}),r.ajax({type:"POST",url:ajaxVar.url,data:{action:"wprig_templates_popup",templateId:t,prevTemplateId:a,nextTemplateId:s,nonce:ajaxVar.nonce},beforeSend:function(){r(".templates-modal .loader-wrapper").fadeIn()},complete:function(){r(".templates-modal .loader-wrapper").fadeOut()},success:function(e){try{e=JSON.parse(e),r(".templates-modal-body").html(e.content),o(),r(".templates-modal-body").fadeIn(),window.history.replaceState({},"",e.url),r(document).trigger("modalLoaded"),r(".templates-modal-body").scrollTop(0)}catch(e){l();try{dataLayer.push({event:"form-templates-modal-load-error"})}catch(e){}}}})}jQuery(document).on("click","a.btn.btn-preview-template",function(e){e.preventDefault(),i(r(this).attr("data-id")),r(".templates-modal-body").hide(),r(".templates-popup-wrapper").fadeIn(),r("body").addClass("noscroll")}),r(document).click(function(e){!r(".templates-popup-wrapper").is(":visible")||r(e.target).hasClass("btn-preview-template")||r(e.target).closest(".templates-modal").length&&!r(e.target).hasClass("modal-body-close")||l()}),r(document).on("modalLoaded",function(){r(".templates-modal-arrow > a").each(function(){r(this).on("click",function(e){e.preventDefault(),i(r(this).attr("data-id"))})})})}(jQuery);